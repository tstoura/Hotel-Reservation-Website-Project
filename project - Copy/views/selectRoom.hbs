<div class="container mt-5 selectRoomsBack">
  <div class="row availability-box">
    <div class="col-md-10 offset-md-1">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Availability</h4>
          <form class="form-inline justify-content-center" action="/doCheckAvailability" method="get">
            <div class="d-flex justify-content-between align-items-center">
              <div class="form-group">
                <label for="check_in_date">Check-in Date</label>
                <input type="date" class="form-control ml-2" id="check_in_date" name="check_in_date" value="{{check_in_date}}" required>
              </div>
              <div class="form-group">
                <label for="check_out_date">Check-out Date</label>
                <input type="date" class="form-control ml-2" id="check_out_date" name="check_out_date" value="{{check_out_date}}" required>
              </div>
              <div class="form-group">
                <label for="guests">Guests</label>
                <input type="number" class="form-control ml-2" id="guests" name="guests" value="{{guests}}" min="1" style="width: 60px;" required>
              </div>
              <div class="form-group">
                <label for="rooms">Rooms</label>
                <input type="number" class="form-control ml-2" id="rooms" value="{{rooms}}" min="1" style="width: 60px;" required>
              </div>
              <button type="submit" class="btn btn-primary ml-2">Search</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  {{#if Avrooms}}
  <div class="row mt-5">
    <div class="col-md-10 offset-md-1">
      <table class="table">
        <thead>
          <tr>
            <th>Room Type</th>
            <th>Information</th>
            <th>Number of Rooms</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          {{#each roomTypes}}
          {{#if this.roomsCount}}
          <tr>
            <form action="/doBookRoom" method="get"></form>
              <td class="room typeName">{{this.typeName}}<img src="../imgs/{{this.typeName}}.jpg" alt="Room"></td>
              <td class="info">
                <hr>
                {{!-- <div>Bla bla</div> --}}
                <div id="priceXdays" value="{{this.pricePerNight}}"></div>
                <div id="totalPrice" name="totalPrice"></div>
                {{!-- <div id="totalPrice" value=""></div> --}}
                {{!-- <div>Price for {{calculatePrice check_in_date check_out_date this.pricePerNight}} nights</div> --}}
                {{!-- {{#if (lt this.roomsCount 5)}}<div>There are {{this.roomsCount}} rooms left</div> {{/if}} --}}
                {{!-- {{this.capacity}} - {{this.pricePerNight}} - {{this.roomsCount}} --}}
                {{!-- <hr> --}}
              </td>
              <td>
                <input type="number" class="form-control" style="width: 60px;" min="0" max="{{this.roomsCount}}" value="0" name="rooms_count">
              </td>
              <td>
                <input type="hidden" name="totalPrice" value="{{totalPrice}}">
                <input type="hidden" name="check_in_date" value="{{check_in_date}}">
                <input type="hidden" name="check_out_date" value="{{check_out_date}}">
                <input type="hidden" name="guests" value="{{guests}}">

                <a class="btn btn-sm btn-success" href="/doBookRoom?roomTypeID={{this.roomTypeID}}&check_in_date={{check_in_date}}
                                                        &check_out_date={{check_out_date}}&guests={{guests}}&rooms_count={{rooms}} 
                                                        &totalPrice={{totalPrice}}">Book</a>
                {{!-- <button type="submit" class="btn btn-sm btn-success">Book</button> --}}
              </td>
            </form>
          </tr>
          {{/if}}
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
  {{/if}}
</div>



{{!-- {{#unless Avrooms}}
    <div class="row mt-5">
        <div class="col"> No Rooms </div>
    </div>
    
{{/unless}} 
{{#if error}}
    <div class="row mt-5">
        <div class="col-6 offset-3">
            <div class="alert alert-primary" role="alert">
                {{error}}
            </div>
        </div>
    </div>
{{/if}} --}}

{{!-- 
<div class="container mt-5 selectRoomsBack">
  <div class="row availability-box">
    <div class="col-md-10 offset-md-1">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Availability</h4>
          <form class="form-inline justify-content-center" action="/doBookRoom" method="get">
            <div class="d-flex justify-content-between align-items-center">
              <div class="form-group">
                <label for="check_in_date">Check-in Date</label>
                <input type="date" class="form-control ml-2" id="check_in_date" name="check_in_date" value="{{check_in_date}}" required>
              </div>
              <div class="form-group">
                <label for="check_out_date">Check-out Date</label>
                <input type="date" class="form-control ml-2" id="check_out_date" name="check_out_date" value="{{check_out_date}}" required>
              </div>
              <div class="form-group">
                <label for="guests">Guests</label>
                <input type="number" class="form-control ml-2" id="guests" name="guests" value="{{guests}}" min="1" style="width: 60px;" required>
              </div>
              <div class="form-group">
                <label for="rooms">Rooms</label>
                <input type="number" class="form-control ml-2" id="rooms" value="{{rooms}}" min="1" style="width: 60px;" required>
              </div>
              <button type="submit" class="btn btn-primary ml-2">Search</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  {{#if Avrooms}}
  <div class="row mt-5">
    <div class="col-md-10 offset-md-1">
      <form action="/doBookRoom" method="get">
        <table class="table">
          <thead>
            <tr>
              <th>Room Type</th>
              <th>Information</th>
              <th>Number of Rooms</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            {{#each roomTypes}}
            {{#if this.roomsCount}}
            <tr>
              <td class="room typeName">{{this.typeName}}<img src="../imgs/{{this.typeName}}.jpg" alt="Room"></td>
              <td class="info">
                <hr>
                <div id="priceXdays" value="{{this.pricePerNight}}"></div>
                <div id="totalPrice" name="totalPrice"></div>
              </td>
              <td>
                <input type="number" class="form-control" style="width: 60px;" min="0" max="{{this.roomsCount}}" value="0" name="rooms_count">
              </td>
              <td>
                <input type="hidden" name="totalPrice" value="{{totalPrice}}">
                <input type="hidden" name="check_in_date" value="{{check_in_date}}">
                <input type="hidden" name="check_out_date" value="{{check_out_date}}">
                <input type="hidden" name="guests" value="{{guests}}">
                <input type="hidden" name="roomTypeID" value="{{this.roomTypeID}}">
                <button type="submit" class="btn btn-sm btn-success">Book</button>
              </td>
            </tr>
            {{/if}}
            {{/each}}
          </tbody>
        </table>
      </form>
    </div>
  </div>
  {{/if}}
</div> --}}
